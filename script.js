const translations = {
  ru: {
    headerTitle: "Learn Russian for Foreigners",
    headerSubtitle: "Ваш путь к совершенному русскому языку",
    selectLanguage: "Язык:",
    pointsText: "баллов",
    loginBtn: "Войти",
    registerBtn: "Регистрация",
    logoutBtn: "Выйти",
    tabLessons: "Уроки",
    tabExercises: "Упражнения",
    tabProgress: "Прогресс",
    tabChatbot: "Чат-бот",
    lessonAlphabet: "Алфавит",
    lessonGreetings: "Приветствия",
    lessonNumbers: "Цифры",
    lessonColors: "Цвета",
    lessonFamily: "Семья",
    lessonWeather: "Погода",
    lessonFood: "Еда",
    lessonTravel: "Путешествия",
    lessonAnimals: "Животные",
    lessonProfessions: "Профессии",
    lessonTime: "Время",
    lessonClothing: "Одежда",
    lessonHouse: "Дом",
    lessonTransport: "Транспорт",
    lessonVerbs: "Глаголы",
    lessonPronouns: "Местоимения",
    greetingsHelloFormal: "Здравствуйте",
    greetingsHello: "Привет",
    greetingsGoodMorning: "Доброе утро",
    greetingsGoodAfternoon: "Добрый день",
    greetingsGoodEvening: "Добрый вечер",
    greetingsHowAreYou: "Как дела?",
    greetingsThanksGood: "Спасибо, хорошо",
    greetingsGoodbye: "До свидания",
    numbersOne: "Один",
    numbersTwo: "Два",
    numbersThree: "Три",
    numbersFour: "Четыре",
    numbersFive: "Пять",
    numbersSix: "Шесть",
    numbersSeven: "Семь",
    numbersEight: "Восемь",
    numbersNine: "Девять",
    numbersTen: "Десять",
    numbersEleven: "Одиннадцать",
    numbersTwelve: "Двенадцать",
    numbersThirteen: "Тринадцать",
    numbersFourteen: "Четырнадцать",
    numbersFifteen: "Пятнадцать",
    numbersSixteen: "Шестнадцать",
    numbersSeventeen: "Семнадцать",
    numbersEighteen: "Восемнадцать",
    numbersNineteen: "Девятнадцать",
    numbersTwenty: "Двадцать",
    colorsRed: "Красный",
    colorsBlue: "Синий",
    colorsGreen: "Зеленый",
    colorsYellow: "Желтый",
    colorsBlack: "Черный",
    colorsWhite: "Белый",
    colorsOrange: "Оранжевый",
    colorsPurple: "Фиолетовый",
    colorsPink: "Розовый",
    colorsGray: "Серый",
    colorsBrown: "Коричневый",
    familyMom: "Мама",
    familyDad: "Папа",
    familyBrother: "Брат",
    familySister: "Сестра",
    familyGrandfather: "Дедушка",
    familyGrandmother: "Бабушка",
    familyUncle: "Дядя",
    familyAunt: "Тётя",
    familySon: "Сын",
    familyDaughter: "Дочь",
    familyGrandson: "Внук",
    familyGranddaughter: "Внучка",
    weatherInfo: "Изучите названия погодных явлений и фраз, связанных с погодой.",
    weatherSunnyToday: "Сегодня солнечно",
    weatherRainy: "Идет дождь",
    weatherSnowy: "Идет снег",
    weatherWindy: "Ветрено",
    weatherCloudy: "Облачно",
    foodInfo: "Узнайте названия популярных блюд, фруктов, овощей и напитков.",
    foodApple: "Яблоко",
    foodBread: "Хлеб",
    foodSoup: "Суп",
    foodWater: "Вода",
    travelInfo: "Научитесь говорить о путешествиях: как добраться, где остановиться и что посетить.",
    travelTrain: "Поезд",
    travelHotel: "Гостиница",
    travelMuseum: "Музей",
    animalsInfo: "Изучите названия животных и фразы, связанные с домашними и дикими животными.",
    animalsDog: "Собака",
    animalsCat: "Кошка",
    animalsBird: "Птица",
    professionsInfo: "Узнайте названия различных профессий и как о них говорить.",
    professionsDoctor: "Врач",
    professionsTeacher: "Учитель",
    professionsEngineer: "Инженер",
    timeInfo: "Научитесь говорить о времени: часы, дни недели, месяцы.",
    timeHour: "Час",
    timeDay: "День",
    timeMonth: "Месяц",
    clothingInfo: "Изучите названия предметов одежды и аксессуаров.",
    clothingShirt: "Рубашка",
    clothingPants: "Брюки",
    clothingHat: "Шляпа",
    houseInfo: "Узнайте названия комнат и предметов в доме.",
    houseKitchen: "Кухня",
    houseBedroom: "Спальня",
    houseTable: "Стол",
    transportInfo: "Изучите названия видов транспорта и фразы для путешествий.",
    transportCar: "Машина",
    transportBus: "Автобус",
    transportPlane: "Самолет",
    verbsInfo: "Изучите основные глаголы для повседневного общения.",
    verbsGo: "Идти",
    verbsSpeak: "Говорить",
    verbsEat: "Есть",
    pronounsInfo: "Изучите основные местоимения для общения.",
    pronounsI: "Я",
    pronounsYou: "Ты",
    pronounsHe: "Он",
    exerciseAlphabet1Title: "Упражнение 1: Угадайте букву по звуку",
    exerciseAlphabet2Title: "Упражнение 2: Составьте предложение из слов",
    exerciseGreetings1Title: "Упражнение 3: Выберите приветствие для утра",
    exerciseGreetings2Title: "Упражнение 4: Напишите приветствие для друга",
    exerciseNumbers1Title: "Упражнение 5: Сопоставьте числа",
    exerciseNumbers2Title: "Упражнение 6: Сколько яблок? Напишите число",
    exerciseColors1Title: "Упражнение 7: Какой это цвет?",
    exerciseColors2Title: "Упражнение 8: Напишите цвет солнца",
    exerciseFamily1Title: "Упражнение 9: Кто это?",
    exerciseFamily2Title: "Упражнение 10: Составьте предложение",
    exerciseWeather1Title: "Упражнение 11: Опишите погоду",
    exerciseWeather2Title: "Упражнение 12: Перескажите прогноз погоды",
    exerciseFood1Title: "Упражнение 13: Собака или сабака?",
    exerciseFood2Title: "Упражнение 14: Составьте предложение",
    exerciseTravel1Title: "Упражнение 15: Выберите транспорт для путешествия",
    exerciseTravel2Title: "Упражнение 16: Напишите, где вы остановитесь",
    exerciseAnimals1Title: "Упражнение 17: Угадайте животное по звуку",
    exerciseAnimals2Title: "Упражнение 18: Составьте предложение",
    exerciseProfessions1Title: "Упражнение 19: Кто это?",
    exerciseProfessions2Title: "Упражнение 20: Скажите, кем работает человек",
    exerciseTime1Title: "Упражнение 21: Напишите словами,сколько часов в сутках",
    exerciseTime2Title: "Упражнение 22: Выберите правильное слово",
    exerciseClothing1Title: "Упражнение 23: Назови одежду",
    exerciseClothing2Title: "Упражнение 24: Составьте предложение",
    exerciseHouse1Title: "Упражнение 25: Где это находится?",
    exerciseHouse2Title: "Упражнение 26: Напишите, что есть на кухне",
    exerciseTransport1Title: "Упражнение 27: Выберите транспорт",
    exerciseTransport2Title: "Упражнение 28: Составьте предложение",
    exerciseVerbs1Title: "Упражнение 29: Выберите глагол",
    exerciseVerbs2Title: "Упражнение 30: Составьте предложение",
    exercisePronouns1Title: "Упражнение 31: Замените слово местоимением",
    exercisePronouns2Title: "Упражнение 32: Составьте предложение",
    playBtn: "Проиграть",
    checkBtn: "Проверить",
    enterWord: "Введите слово",
    enterSentence: "Введите предложение",
    enterNumber: "Введите число на русском",
    enterWeather: "Напишите на русском",
    enterTranslation: "Введите перевод",
    enterProfession: "Напишите на русском",
    enterTime: "Напишите на русском",
    progressTitle: "Ваш прогресс",
    chatbotTitle: "Чат-бот для практики",
    chatPlaceholder: "Напишите сообщение...",
    chatSend: "Отправить",
    chatClear: "Очистить",
    footerAbout: "О нас",
    footerAboutText: "Мы помогаем иностранцам изучать русский язык с помощью интерактивных уроков и упражнений.",
    footerContact: "Контакты",
    footerPhone: "Телефон: +7 (123) 456-78-90",
    footerFollow: "Следите за нами",
    loginTitle: "Вход",
    registerTitle: "Регистрация",
    usernamePlaceholder: "Имя пользователя",
    passwordPlaceholder: "Пароль",
    correctAnswer: "✅ Верно! +{points} баллов",
    incorrectAnswer: "❌ Неверно.",
    incorrectAnswerTryAgain: "❌ Неверно. Попробуй снова!",
    achievementBeginnerTitle: "Новичок",
    achievementBeginnerDesc: "Заработайте 50 баллов",
    achievementAlphabetTitle: "Знаток алфавита",
    achievementAlphabetDesc: "Изучите все буквы",
    achievementGreetingsTitle: "Мастер приветствий",
    achievementGreetingsDesc: "Изучите все приветствия",
    achievementGrammarTitle: "Грамматический гуру",
    achievementGrammarDesc: "Изучите 3 глагола и 3 местоимения",
    welcomeMessage: "Привет, {username}!",
  },
  en: {
    headerTitle: "Learn Russian for Foreigners",
    headerSubtitle: "Your Path to Perfect Russian",
    selectLanguage: "Language:",
    pointsText: "points",
    loginBtn: "Login",
    registerBtn: "Register",
    logoutBtn: "Logout",
    tabLessons: "Lessons",
    tabExercises: "Exercises",
    tabProgress: "Progress",
    tabChatbot: "Chatbot",
    lessonAlphabet: "Alphabet",
    lessonGreetings: "Greetings",
    lessonNumbers: "Numbers",
    lessonColors: "Colors",
    lessonFamily: "Family",
    lessonWeather: "Weather",
    lessonFood: "Food",
    lessonTravel: "Travel",
    lessonAnimals: "Animals",
    lessonProfessions: "Professions",
    lessonTime: "Time",
    lessonClothing: "Clothing",
    lessonHouse: "House",
    lessonTransport: "Transport",
    lessonVerbs: "Verbs",
    lessonPronouns: "Pronouns",
    greetingsHelloFormal: "Hello (formal)",
    greetingsHello: "Hi",
    greetingsGoodMorning: "Good morning",
    greetingsGoodAfternoon: "Good afternoon",
    greetingsGoodEvening: "Good evening",
    greetingsHowAreYou: "How are you?",
    greetingsThanksGood: "Thanks, I'm good",
    greetingsGoodbye: "Goodbye",
    numbersOne: "One",
    numbersTwo: "Two",
    numbersThree: "Three",
    numbersFour: "Four",
    numbersFive: "Five",
    numbersSix: "Six",
    numbersSeven: "Seven",
    numbersEight: "Eight",
    numbersNine: "Nine",
    numbersTen: "Ten",
    numbersEleven: "Eleven",
    numbersTwelve: "Twelve",
    numbersThirteen: "Thirteen",
    numbersFourteen: "Fourteen",
    numbersFifteen: "Fifteen",
    numbersSixteen: "Sixteen",
    numbersSeventeen: "Seventeen",
    numbersEighteen: "Eighteen",
    numbersNineteen: "Nineteen",
    numbersTwenty: "Twenty",
    colorsRed: "Red",
    colorsBlue: "Blue",
    colorsGreen: "Green",
    colorsYellow: "Yellow",
    colorsBlack: "Black",
    colorsWhite: "White",
    colorsOrange: "Orange",
    colorsPurple: "Purple",
    colorsPink: "Pink",
    colorsGray: "Gray",
    colorsBrown: "Brown",
    familyMom: "Mom",
    familyDad: "Dad",
    familyBrother: "Brother",
    familySister: "Sister",
    familyGrandfather: "Grandfather",
    familyGrandmother: "Grandmother",
    familyUncle: "Uncle",
    familyAunt: "Aunt",
    familySon: "Son",
    familyDaughter: "Daughter",
    familyGrandson: "Grandson",
    familyGranddaughter: "Granddaughter",
    weatherInfo: "Learn the names of weather phenomena and related phrases.",
    weatherSunnyToday: "It's sunny today",
    weatherRainy: "It's raining",
    weatherSnowy: "It's snowing",
    weatherWindy: "It's windy",
    weatherCloudy: "It's cloudy",
    foodInfo: "Learn the names of popular dishes, fruits, vegetables, and drinks.",
    foodApple: "Apple",
    foodBread: "Bread",
    foodSoup: "Soup",
    foodWater: "Water",
    travelInfo: "Learn to talk about travel: how to get there, where to stay, and what to visit.",
    travelTrain: "Train",
    travelHotel: "Hotel",
    travelMuseum: "Museum",
    animalsInfo: "Learn the names of animals and phrases related to pets and wild animals.",
    animalsDog: "Dog",
    animalsCat: "Cat",
    animalsBird: "Bird",
    professionsInfo: "Learn the names of various professions and how to talk about them.",
    professionsDoctor: "Doctor",
    professionsTeacher: "Teacher",
    professionsEngineer: "Engineer",
    timeInfo: "Learn to talk about time: hours, days of the week, months.",
    timeHour: "Hour",
    timeDay: "Day",
    timeMonth: "Month",
    clothingInfo: "Learn the names of clothing items and accessories.",
    clothingShirt: "Shirt",
    clothingPants: "Pants",
    clothingHat: "Hat",
    houseInfo: "Learn the names of rooms and items in the house.",
    houseKitchen: "Kitchen",
    houseBedroom: "Bedroom",
    houseTable: "Table",
    transportInfo: "Learn the names of types of transport and phrases for traveling.",
    transportCar: "Car",
    transportBus: "Bus",
    transportPlane: "Plane",
    verbsInfo: "Learn basic verbs for everyday communication.",
    verbsGo: "Go",
    verbsSpeak: "Speak",
    verbsEat: "Eat",
    pronounsInfo: "Learn basic pronouns for communication.",
    pronounsI: "I",
    pronounsYou: "You",
    pronounsHe: "He",
    exerciseAlphabet1Title: "Exercise 1: Guess the letter by sound",
    exerciseAlphabet2Title: "Exercise 2: Form a sentence from words",
    exerciseGreetings1Title: "Exercise 3: Choose a morning greeting",
    exerciseGreetings2Title: "Exercise 4: Write a greeting for a friend",
    exerciseNumbers1Title: "Exercise 5: Match the numbers",
    exerciseNumbers2Title: "Exercise 6: How many apples? Write the number",
    exerciseColors1Title: "Exercise 7: What color is this?",
    exerciseColors2Title: "Exercise 8: Write the color of the sun",
    exerciseFamily1Title: "Exercise 9: Who is this?",
    exerciseFamily2Title: "Exercise 10: Form a sentence",
    exerciseWeather1Title: "Exercise 11: Describe the weather",
    exerciseWeather2Title: "Exercise 12: Retell the weather forecast",
    exerciseFood1Title: "Exercise 13: How do you spell this animal correctly?",
    exerciseFood2Title: "Exercise 14: Form a sentence",
    exerciseTravel1Title: "Exercise 15: Choose transport for travel",
    exerciseTravel2Title: "Exercise 16: Write where you will stay",
    exerciseAnimals1Title: "Exercise 17: Guess the animal by sound",
    exerciseAnimals2Title: "Exercise 18: Form a sentence",
    exerciseProfessions1Title: "Exercise 19: Who is this?",
    exerciseProfessions2Title: "Exercise 20: Say what the person does",
    exerciseTime1Title: "Exercise 21: Write in words how many hours there are in a day.",
    exerciseTime2Title: "Exercise 22: Choose the correct word",
    exerciseClothing1Title: "Exercise 23: Name the clothing",
    exerciseClothing2Title: "Exercise 24: Form a sentence",
    exerciseHouse1Title: "Exercise 25: Where is this?",
    exerciseHouse2Title: "Exercise 26: Write what is in the kitchen.",
    exerciseTransport1Title: "Exercise 27: Choose the transport",
    exerciseTransport2Title: "Exercise 28: Form a sentence",
    exerciseVerbs1Title: "Exercise 29: Choose the verb",
    exerciseVerbs2Title: "Exercise 30: Form a sentence",
    exercisePronouns1Title: "Exercise 31: Replace the word with a pronoun",
    exercisePronouns2Title: "Exercise 32: Form a sentence",
    playBtn: "Play",
    checkBtn: "Check",
    enterWord: "Enter the word",
    enterSentence: "Enter the sentence",
    enterNumber: "Enter the number in Russian",
    enterWeather: "Write in Russian",
    enterTranslation: "Enter the translation",
    enterProfession: "Write in Russian",
    enterTime: "Write in Russian",
    progressTitle: "Your Progress",
    chatbotTitle: "Chatbot for Practice",
    chatPlaceholder: "Write a message...",
    chatSend: "Send",
    chatClear: "Clear",
    footerAbout: "About Us",
    footerAboutText: "We help foreigners learn Russian with interactive lessons and exercises.",
    footerContact: "Contact",
    footerPhone: "Phone: +7 (123) 456-78-90",
    footerFollow: "Follow Us",
    loginTitle: "Login",
    registerTitle: "Register",
    usernamePlaceholder: "Username",
    passwordPlaceholder: "Password",
    correctAnswer: "✅ Correct! +{points} points",
    incorrectAnswer: "❌ Incorrect.",
    incorrectAnswerTryAgain: "❌ Incorrect. Try again!",
    achievementBeginnerTitle: "Beginner",
    achievementBeginnerDesc: "Earn 50 points",
    achievementAlphabetTitle: "Alphabet Expert",
    achievementAlphabetDesc: "Learn all the letters",
    achievementGreetingsTitle: "Greetings Master",
    achievementGreetingsDesc: "Learn all greetings",
    achievementGrammarTitle: "Grammar Guru",
    achievementGrammarDesc: "Learn 3 verbs and 3 pronouns",
    welcomeMessage: "Hello, {username}!",
  },
  es: {
    headerTitle: "Aprende ruso para extranjeros",
    headerSubtitle: "Tu camino hacia un ruso perfecto",
    selectLanguage: "Idioma:",
    pointsText: "puntos",
    loginBtn: "Iniciar sesión",
    registerBtn: "Registrarse",
    logoutBtn: "Cerrar sesión",
    tabLessons: "Lecciones",
    tabExercises: "Ejercicios",
    tabProgress: "Progreso",
    tabChatbot: "Chatbot",
    lessonAlphabet: "Alfabeto",
    lessonGreetings: "Saludos",
    lessonNumbers: "Números",
    lessonColors: "Colores",
    lessonFamily: "Familia",
    lessonWeather: "Clima",
    lessonFood: "Comida",
    lessonTravel: "Viajes",
    lessonAnimals: "Animales",
    lessonProfessions: "Profesiones",
    lessonTime: "Tiempo",
    lessonClothing: "Ropa",
    lessonHouse: "Casa",
    lessonTransport: "Transporte",
    lessonVerbs: "Verbos",
    lessonPronouns: "Pronombres",
    greetingsHelloFormal: "Hola (formal)",
    greetingsHello: "Hola",
    greetingsGoodMorning: "Buenos días",
    greetingsGoodAfternoon: "Buenas tardes",
    greetingsGoodEvening: "Buenas noches",
    greetingsHowAreYou: "¿Cómo estás?",
    greetingsThanksGood: "Gracias, estoy bien",
    greetingsGoodbye: "Adiós",
    numbersOne: "Uno",
    numbersTwo: "Dos",
    numbersThree: "Tres",
    numbersFour: "Cuatro",
    numbersFive: "Cinco",
    numbersSix: "Seis",
    numbersSeven: "Siete",
    numbersEight: "Ocho",
    numbersNine: "Nueve",
    numbersTen: "Diez",
    numbersEleven: "Once",
    numbersTwelve: "Doce",
    numbersThirteen: "Trece",
    numbersFourteen: "Catorce",
    numbersFifteen: "Quince",
    numbersSixteen: "Dieciséis",
    numbersSeventeen: "Diecisiete",
    numbersEighteen: "Dieciocho",
    numbersNineteen: "Diecinueve",
    numbersTwenty: "Veinte",
    colorsRed: "Rojo",
    colorsBlue: "Azul",
    colorsGreen: "Verde",
    colorsYellow: "Amarillo",
    colorsBlack: "Negro",
    colorsWhite: "Blanco",
    colorsOrange: "Naranja",
    colorsPurple: "Púrpura",
    colorsPink: "Rosa",
    colorsGray: "Gris",
    colorsBrown: "Marrón",
    familyMom: "Mamá",
    familyDad: "Papá",
    familyBrother: "Hermano",
    familySister: "Hermana",
    familyGrandfather: "Abuelo",
    familyGrandmother: "Abuela",
    familyUncle: "Tío",
    familyAunt: "Tía",
    familySon: "Hijo",
    familyDaughter: "Hija",
    familyGrandson: "Nieto",
    familyGranddaughter: "Nieta",
    weatherInfo: "Aprende los nombres de los fenómenos climáticos y frases relacionadas.",
    weatherSunnyToday: "Hoy está soleado",
    weatherRainy: "Está lloviendo",
    weatherSnowy: "Está nevando",
    weatherWindy: "Hace viento",
    weatherCloudy: "Está nublado",
    foodInfo: "Aprende los nombres de platos populares, frutas, verduras y bebidas.",
    foodApple: "Manzana",
    foodBread: "Pan",
    foodSoup: "Sopa",
    foodWater: "Agua",
    travelInfo: "Aprende a hablar sobre viajes: cómo llegar, dónde quedarse y qué visitar.",
    travelTrain: "Tren",
    travelHotel: "Hotel",
    travelMuseum: "Museo",
    animalsInfo: "Aprende los nombres de animales y frases relacionadas con mascotas y animales salvajes.",
    animalsDog: "Perro",
    animalsCat: "Gato",
    animalsBird: "Pájaro",
    professionsInfo: "Aprende los nombres de varias profesiones y cómo hablar sobre ellas.",
    professionsDoctor: "Médico",
    professionsTeacher: "Profesor",
    professionsEngineer: "Ingeniero",
    timeInfo: "Aprende a hablar sobre el tiempo: horas, días de la semana, meses.",
    timeHour: "Hora",
    timeDay: "Día",
    timeMonth: "Mes",
    clothingInfo: "Aprende los nombres de prendas de vestir y accesorios.",
    clothingShirt: "Camisa",
    clothingPants: "Pantalones",
    clothingHat: "Sombrero",
    houseInfo: "Aprende los nombres de las habitaciones y objetos en la casa.",
    houseKitchen: "Cocina",
    houseBedroom: "Dormitorio",
    houseTable: "Mesa",
    transportInfo: "Aprende los nombres de los tipos de transporte y frases para viajar.",
    transportCar: "Coche",
    transportBus: "Autobús",
    transportPlane: "Avión",
    verbsInfo: "Aprende verbos básicos para la comunicación diaria.",
    verbsGo: "Ir",
    verbsSpeak: "Hablar",
    verbsEat: "Comer",
    pronounsInfo: "Aprende pronombres básicos para la comunicación.",
    pronounsI: "Yo",
    pronounsYou: "Tú",
    pronounsHe: "Él",
    exerciseAlphabet1Title: "Ejercicio 1: Adivina la letra por el sonido",
    exerciseAlphabet2Title: "Ejercicio 2: Forma una oración con palabras",
    exerciseGreetings1Title: "Ejercicio 3: Elige un saludo matutino",
    exerciseGreetings2Title: "Ejercicio 4: Escribe un saludo para un amigo",
    exerciseNumbers1Title: "Ejercicio 5: Empareja los números",
    exerciseNumbers2Title: "Ejercicio 6: ¿Cuántas manzanas? Escribe el número",
    exerciseColors1Title: "Ejercicio 7: ¿De qué color es esto?",
    exerciseColors2Title: "Ejercicio 8: Escribe el color del sol",
    exerciseFamily1Title: "Ejercicio 9: ¿Quién es?",
    exerciseFamily2Title: "Ejercicio 10: Forma una oración",
    exerciseWeather1Title: "Ejercicio 11: Describe el clima",
    exerciseWeather2Title: "Ejercicio 12: Resume el pronóstico del tiempo",
    exerciseFood1Title: "Ejercicio 13: ¿Cómo se escribe correctamente este animal?",
    exerciseFood2Title: "Ejercicio 14: Forma una oración",
    exerciseTravel1Title: "Ejercicio 15: Elige el transporte para viajar",
    exerciseTravel2Title: "Ejercicio 16: Escribe dónde te quedarás",
    exerciseAnimals1Title: "Ejercicio 17: Adivina el animal por el sonido",
    exerciseAnimals2Title: "Ejercicio 18: Forma una oración",
    exerciseProfessions1Title: "Ejercicio 19: ¿Quién es?",
    exerciseProfessions2Title: "Ejercicio 20: Di qué hace la persona",
    exerciseTime1Title: "Ejercicio 21: Escribe con palabras cuántas horas hay en un día.",
    exerciseTime2Title: "Ejercicio 22: Elige la palabra correcta",
    exerciseClothing1Title: "Ejercicio 23: Nombra la ropa",
    exerciseClothing2Title: "Ejercicio 24: Forma una oración",
    exerciseHouse1Title: "Ejercicio 25: ¿Dónde está esto?",
    exerciseHouse2Title: "Ejercicio 26: Escribe qué hay en la cocina.",
    exerciseTransport1Title: "Ejercicio 27: Elige el transporte",
    exerciseTransport2Title: "Ejercicio 28: Forma una oración",
    exerciseVerbs1Title: "Ejercicio 29: Elige el verbo",
    exerciseVerbs2Title: "Ejercicio 30: Forma una oración",
    exercisePronouns1Title: "Ejercicio 31: Reemplaza la palabra con un pronombre",
    exercisePronouns2Title: "Ejercicio 32: Forma una oración",
    playBtn: "Reproducir",
    checkBtn: "Verificar",
    enterWord: "Ingresa la palabra",
    enterSentence: "Ingresa la oración",
    enterNumber: "Ingresa el número en ruso",
    enterWeather: "Escribe en ruso",
    enterTranslation: "Ingresa la traducción",
    enterProfession: "Escribe en ruso",
    enterTime: "Escribe en ruso",
    progressTitle: "Tu progreso",
    chatbotTitle: "Chatbot para practicar",
    chatPlaceholder: "Escribe un mensaje...",
    chatSend: "Enviar",
    chatClear: "Limpiar",
    footerAbout: "Sobre nosotros",
    footerAboutText: "Ayudamos a extranjeros a aprender ruso con lecciones y ejercicios interactivos.",
    footerContact: "Contacto",
    footerPhone: "Teléfono: +7 (123) 456-78-90",
    footerFollow: "Síguenos",
    loginTitle: "Iniciar sesión",
    registerTitle: "Registrarse",
    usernamePlaceholder: "Nombre de usuario",
    passwordPlaceholder: "Contraseña",
    correctAnswer: "✅ ¡Correcto! +{points} puntos",
    incorrectAnswer: "❌ Incorrecto.",
    incorrectAnswerTryAgain: "❌ Incorrecto. ¡Intenta de nuevo!",
    achievementBeginnerTitle: "Principiante",
    achievementBeginnerDesc: "Gana 50 puntos",
    achievementAlphabetTitle: "Experto en alfabeto",
    achievementAlphabetDesc: "Aprende todas las letras",
    achievementGreetingsTitle: "Maestro de saludos",
    achievementGreetingsDesc: "Aprende todos los saludos",
    achievementGrammarTitle: "Gurú de gramática",
    achievementGrammarDesc: "Aprende 3 verbos y 3 pronombres",
    welcomeMessage: "¡Hola, {username}!",
  },
  fr: {
    headerTitle: "Apprendre le russe pour les étrangers",
    headerSubtitle: "Votre chemin vers un russe parfait",
    selectLanguage: "Langue :",
    pointsText: "points",
    loginBtn: "Se connecter",
    registerBtn: "S'inscrire",
    logoutBtn: "Se déconnecter",
    tabLessons: "Leçons",
    tabExercises: "Exercices",
    tabProgress: "Progrès",
    tabChatbot: "Chatbot",
    lessonAlphabet: "Alphabet",
    lessonGreetings: "Salutations",
    lessonNumbers: "Nombres",
    lessonColors: "Couleurs",
    lessonFamily: "Famille",
    lessonWeather: "Météo",
    lessonFood: "Nourriture",
    lessonTravel: "Voyages",
    lessonAnimals: "Animaux",
    lessonProfessions: "Professions",
    lessonTime: "Temps",
    lessonClothing: "Vêtements",
    lessonHouse: "Maison",
    lessonTransport: "Transport",
    lessonVerbs: "Verbes",
    lessonPronouns: "Pronoms",
    greetingsHelloFormal: "Bonjour (formel)",
    greetingsHello: "Salut",
    greetingsGoodMorning: "Bonjour",
    greetingsGoodAfternoon: "Bon après-midi",
    greetingsGoodEvening: "Bonsoir",
    greetingsHowAreYou: "Comment vas-tu ?",
    greetingsThanksGood: "Merci, je vais bien",
    greetingsGoodbye: "Au revoir",
    numbersOne: "Un",
    numbersTwo: "Deux",
    numbersThree: "Trois",
    numbersFour: "Quatre",
    numbersFive: "Cinq",
    numbersSix: "Six",
    numbersSeven: "Sept",
    numbersEight: "Huit",
    numbersNine: "Neuf",
    numbersTen: "Dix",
    numbersEleven: "Onze",
    numbersTwelve: "Douze",
    numbersThirteen: "Treize",
    numbersFourteen: "Quatorze",
    numbersFifteen: "Quinze",
    numbersSixteen: "Seize",
    numbersSeventeen: "Dix-sept",
    numbersEighteen: "Dix-huit",
    numbersNineteen: "Dix-neuf",
    numbersTwenty: "Vingt",
    colorsRed: "Rouge",
    colorsBlue: "Bleu",
    colorsGreen: "Vert",
    colorsYellow: "Jaune",
    colorsBlack: "Noir",
    colorsWhite: "Blanc",
    colorsOrange: "Orange",
    colorsPurple: "Violet",
    colorsPink: "Rose",
    colorsGray: "Gris",
    colorsBrown: "Marron",
    familyMom: "Maman",
    familyDad: "Papa",
    familyBrother: "Frère",
    familySister: "Sœur",
    familyGrandfather: "Grand-père",
    familyGrandmother: "Grand-mère",
    familyUncle: "Oncle",
    familyAunt: "Tante",
    familySon: "Fils",
    familyDaughter: "Fille",
    familyGrandson: "Petit-fils",
    familyGranddaughter: "Petite-fille",
    weatherInfo: "Apprenez les noms des phénomènes météorologiques et les phrases associées.",
    weatherSunnyToday: "Il fait soleil aujourd'hui",
    weatherRainy: "Il pleut",
    weatherSnowy: "Il neige",
    weatherWindy: "Il y a du vent",
    weatherCloudy: "Il est nuageux",
    foodInfo: "Apprenez les noms des plats populaires, fruits, légumes et boissons.",
    foodApple: "Pomme",
    foodBread: "Pain",
    foodSoup: "Soupe",
    foodWater: "Eau",
    travelInfo: "Apprenez à parler de voyages : comment y aller, où séjourner et quoi visiter.",
    travelTrain: "Train",
    travelHotel: "Hôtel",
    travelMuseum: "Musée",
    animalsInfo: "Apprenez les noms des animaux et les phrases liées aux animaux domestiques et sauvages.",
    animalsDog: "Chien",
    animalsCat: "Chat",
    animalsBird: "Oiseau",
    professionsInfo: "Apprenez les noms de diverses professions et comment en parler.",
    professionsDoctor: "Médecin",
    professionsTeacher: "Enseignant",
    professionsEngineer: "Ingénieur",
    timeInfo: "Apprenez à parler du temps : heures, jours de la semaine, mois.",
    timeHour: "Heure",
    timeDay: "Jour",
    timeMonth: "Mois",
    clothingInfo: "Apprenez les noms des vêtements et accessoires.",
    clothingShirt: "Chemise",
    clothingPants: "Pantalon",
    clothingHat: "Chapeau",
    houseInfo: "Apprenez les noms des pièces et des objets dans la maison.",
    houseKitchen: "Cuisine",
    houseBedroom: "Chambre",
    houseTable: "Tableau",
    transportInfo: "Apprenez les noms des types de transport et les phrases pour voyager.",
    transportCar: "Voiture",
    transportBus: "Bus",
    transportPlane: "Avion",
    verbsInfo: "Apprenez les verbes de base pour la communication quotidienne.",
    verbsGo: "Aller",
    verbsSpeak: "Parler",
    verbsEat: "Manger",
    pronounsInfo: "Apprenez les pronoms de base pour la communication.",
    pronounsI: "Je",
    pronounsYou: "Tu",
    pronounsHe: "Il",
    exerciseAlphabet1Title: "Exercice 1 : Devinez la lettre par le son",
    exerciseAlphabet2Title: "Exercice 2 : Formez une phrase avec des mots",
    exerciseGreetings1Title: "Exercice 3 : Choisissez un salut matinal",
    exerciseGreetings2Title: "Exercice 4 : Écrivez un salut pour un ami",
    exerciseNumbers1Title: "Exercice 5 : Associez les nombres",
    exerciseNumbers2Title: "Exercice 6 : Combien de pommes ? Écrivez le nombre",
    exerciseColors1Title: "Exercice 7 : De quelle couleur est-ce ?",
    exerciseColors2Title: "Exercice 8 : Écrivez la couleur du soleil",
    exerciseFamily1Title: "Exercice 9 : Qui est-ce ?",
    exerciseFamily2Title: "Exercice 10 : Formez une phrase",
    exerciseWeather1Title: "Exercice 11 : Décrivez la météo",
    exerciseWeather2Title: "Exercice 12 : Résumez les prévisions météo",
    exerciseFood1Title: "Exercice 13 : Comment s'écrit correctement cet animal",
    exerciseFood2Title: "Exercice 14 : Formez une phrase",
    exerciseTravel1Title: "Exercice 15 : Choisissez le transport pour voyager",
    exerciseTravel2Title: "Exercice 16 : Écrivez où vous séjournerez",
    exerciseAnimals1Title: "Exercice 17 : Devinez l'animal par le son",
    exerciseAnimals2Title: "Exercice 18 : Formez une phrase",
    exerciseProfessions1Title: "Exercice 19 : Qui est-ce ?",
    exerciseProfessions2Title: "Exercice 20 : Dites ce que fait la personne",
    exerciseTime1Title: "Exercice 21 : Écrivez en lettres combien d'heures il y a dans une journée.",
    exerciseTime2Title: "Exercice 22 : Choisissez le mot correct",
    exerciseClothing1Title: "Exercice 23 : Nommez le vêtement",
    exerciseClothing2Title: "Exercice 24 : Formez une phrase",
    exerciseHouse1Title: "Exercice 25 : Où est-ce ?",
    exerciseHouse2Title: "Exercice 26 : Écrivez ce qu'il y a dans la cuisine.",
    exerciseTransport1Title: "Exercice 27 : Choisissez le transport",
    exerciseTransport2Title: "Exercice 28 : Formez une phrase",
    exerciseVerbs1Title: "Exercice 29 : Choisissez le verbe",
    exerciseVerbs2Title: "Exercice 30 : Formez une phrase",
    exercisePronouns1Title: "Exercice 31 : Remplacez le mot par un pronom",
    exercisePronouns2Title: "Exercice 32 : Formez une phrase",
    playBtn: "Jouer",
    checkBtn: "Vérifier",
    enterWord: "Entrez le mot",
    enterSentence: "Entrez la phrase",
    enterNumber: "Entrez le nombre en russe",
    enterWeather: "Écrivez en russe",
    enterTranslation: "Entrez la traduction",
    enterProfession: "Écrivez en russe",
    enterTime: "Écrivez en russe",
    progressTitle: "Votre progrès",
    chatbotTitle: "Chatbot pour pratiquer",
    chatPlaceholder: "Écrivez un message...",
    chatSend: "Envoyer",
    chatClear: "Effacer",
    footerAbout: "À propos de nous",
    footerAboutText: "Nous aidons les étrangers à apprendre le russe avec des leçons et des exercices interactifs.",
    footerContact: "Contact",
    footerPhone: "Téléphone : +7 (123) 456-78-90",
    footerFollow: "Suivez-nous",
    loginTitle: "Connexion",
    registerTitle: "Inscription",
    usernamePlaceholder: "Nom d'utilisateur",
    passwordPlaceholder: "Mot de passe",
    correctAnswer: "✅ Correct ! +{points} points",
    incorrectAnswer: "❌ Incorrect.",
    incorrectAnswerTryAgain: "❌ Incorrect. Essaie encore !",
    achievementBeginnerTitle: "Débutant",
    achievementBeginnerDesc: "Gagnez 50 points",
    achievementAlphabetTitle: "Expert en alphabet",
    achievementAlphabetDesc: "Apprenez toutes les lettres",
    achievementGreetingsTitle: "Maître des salutations",
    achievementGreetingsDesc: "Apprenez toutes les salutations",
    achievementGrammarTitle: "Gourou de la grammaire",
    achievementGrammarDesc: "Apprenez 3 verbes et 3 pronoms",
    welcomeMessage: "Salut, {username}!",
  },
  de: {
    headerTitle: "Russisch lernen für Ausländer",
    headerSubtitle: "Dein Weg zu perfektem Russisch",
    selectLanguage: "Sprache:",
    pointsText: "Punkte",
    loginBtn: "Anmelden",
    registerBtn: "Registrieren",
    logoutBtn: "Abmelden",
    tabLessons: "Lektionen",
    tabExercises: "Übungen",
    tabProgress: "Fortschritt",
    tabChatbot: "Chatbot",
    lessonAlphabet: "Alphabet",
    lessonGreetings: "Begrüßungen",
    lessonNumbers: "Zahlen",
    lessonColors: "Farben",
    lessonFamily: "Familie",
    lessonWeather: "Wetter",
    lessonFood: "Essen",
    lessonTravel: "Reisen",
    lessonAnimals: "Tiere",
    lessonProfessions: "Berufe",
    lessonTime: "Zeit",
    lessonClothing: "Kleidung",
    lessonHouse: "Haus",
    lessonTransport: "Transport",
    lessonVerbs: "Verben",
    lessonPronouns: "Pronomen",
    greetingsHelloFormal: "Hallo (formell)",
    greetingsHello: "Hallo",
    greetingsGoodMorning: "Guten Morgen",
    greetingsGoodAfternoon: "Guten Tag",
    greetingsGoodEvening: "Guten Abend",
    greetingsHowAreYou: "Wie geht es dir?",
    greetingsThanksGood: "Danke, mir geht's gut",
    greetingsGoodbye: "Auf Wiedersehen",
    numbersOne: "Eins",
    numbersTwo: "Zwei",
    numbersThree: "Drei",
    numbersFour: "Vier",
    numbersFive: "Fünf",
    numbersSix: "Sechs",
    numbersSeven: "Sieben",
    numbersEight: "Acht",
    numbersNine: "Neun",
    numbersTen: "Zehn",
    numbersEleven: "Elf",
    numbersTwelve: "Zwölf",
    numbersThirteen: "Dreizehn",
    numbersFourteen: "Vierzehn",
    numbersFifteen: "Fünfzehn",
    numbersSixteen: "Sechzehn",
    numbersSeventeen: "Siebzehn",
    numbersEighteen: "Achtzehn",
    numbersNineteen: "Neunzehn",
    numbersTwenty: "Zwanzig",
    colorsRed: "Rot",
    colorsBlue: "Blau",
    colorsGreen: "Grün",
    colorsYellow: "Gelb",
    colorsBlack: "Schwarz",
    colorsWhite: "Weiß",
    colorsOrange: "Orange",
    colorsPurple: "Lila",
    colorsPink: "Rosa",
    colorsGray: "Grau",
    colorsBrown: "Braun",
    familyMom: "Mama",
    familyDad: "Papa",
    familyBrother: "Bruder",
    familySister: "Schwester",
    familyGrandfather: "Großvater",
    familyGrandmother: "Großmutter",
    familyUncle: "Onkel",
    familyAunt: "Tante",
    familySon: "Sohn",
    familyDaughter: "Tochter",
    familyGrandson: "Enkel",
    familyGranddaughter: "Enkelin",
    weatherInfo: "Lerne die Namen von Wetterphänomenen und verwandten Phrasen.",
    weatherSunnyToday: "Heute ist es sonnig",
    weatherRainy: "Es regnet",
    weatherSnowy: "Es schneit",
    weatherWindy: "Es ist windig",
    weatherCloudy: "Es ist bewölkt",
    foodInfo: "Lerne die Namen von beliebten Gerichten, Früchten, Gemüse und Getränken.",
    foodApple: "Apfel",
    foodBread: "Brot",
    foodSoup: "Suppe",
    foodWater: "Wasser",
    travelInfo: "Lerne, über Reisen zu sprechen: wie man dorthin kommt, wo man übernachtet und was man besucht.",
    travelTrain: "Zug",
    travelHotel: "Hotel",
    travelMuseum: "Museum",
    animalsInfo: "Lerne die Namen von Tieren und Phrasen zu Haustieren und wilden Tieren.",
    animalsDog: "Hund",
    animalsCat: "Katze",
    animalsBird: "Vogel",
    professionsInfo: "Lerne die Namen verschiedener Berufe und wie man darüber spricht.",
    professionsDoctor: "Arzt",
    professionsTeacher: "Lehrer",
    professionsEngineer: "Ingenieur",
    timeInfo: "Lerne, über die Zeit zu sprechen: Stunden, Tage der Woche, Monate.",
    timeHour: "Stunde",
    timeDay: "Tag",
    timeMonth: "Monat",
    clothingInfo: "Lerne die Namen von Kleidungsstücken und Accessoires.",
    clothingShirt: "Hemd",
    clothingPants: "Hose",
    clothingHat: "Hut",
    houseInfo: "Lerne die Namen von Räumen und Gegenständen im Haus.",
    houseKitchen: "Küche",
    houseBedroom: "Schlafzimmer",
    houseTable: "Tisch",
    transportInfo: "Lerne die Namen von Transportarten und Phrasen zum Reisen.",
    transportCar: "Auto",
    transportBus: "Bus",
    transportPlane: "Flugzeug",
    verbsInfo: "Lerne grundlegende Verben für die tägliche Kommunikation.",
    verbsGo: "Gehen",
    verbsSpeak: "Sprechen",
    verbsEat: "Essen",
    pronounsInfo: "Lerne grundlegende Pronomen für die Kommunikation.",
    pronounsI: "Ich",
    pronounsYou: "Du",
    pronounsHe: "Er",
    exerciseAlphabet1Title: "Übung 1: Errate den Buchstaben nach dem Klang",
    exerciseAlphabet2Title: "Übung 2: Bilde einen Satz aus Wörtern",
    exerciseGreetings1Title: "Übung 3: Wähle eine Morgenbegrüßung",
    exerciseGreetings2Title: "Übung 4: Schreibe eine Begrüßung für einen Freund",
    exerciseNumbers1Title: "Übung 5: Ordne die Zahlen zu",
    exerciseNumbers2Title: "Übung 6: Wie viele Äpfel? Schreibe die Zahl",
    exerciseColors1Title: "Übung 7: Welche Farbe ist das?",
    exerciseColors2Title: "Übung 8: Schreibe die Farbe der Sonne",
    exerciseFamily1Title: "Übung 9: Wer ist das?",
    exerciseFamily2Title: "Übung 10: Bilde einen Satz",
    exerciseWeather1Title: "Übung 11: Beschreibe das Wetter",
    exerciseWeather2Title: "Übung 12: Fasse die Wettervorhersage zusammen",
    exerciseFood1Title: "Übung 13: Wie schreibt man dieses Tier richtig?",
    exerciseFood2Title: "Übung 14: Bilde einen Satz",
    exerciseTravel1Title: "Übung 15: Wähle den Transport für die Reise",
    exerciseTravel2Title: "Übung 16: Schreibe, wo du übernachten wirst",
    exerciseAnimals1Title: "Übung 17: Errate das Tier nach dem Klang",
    exerciseAnimals2Title: "Übung 18: Bilde einen Satz",
    exerciseProfessions1Title: "Übung 19: Wer ist das?",
    exerciseProfessions2Title: "Übung 20: Sage, was die Person macht",
    exerciseTime1Title: "Übung 21: Schreiben Sie in Worten, wie viele Stunden ein Tag hat.",
    exerciseTime2Title: "Übung 22: Wähle das richtige Wort",
    exerciseClothing1Title: "Übung 23: Nenne das Kleidungsstück",
    exerciseClothing2Title: "Übung 24: Bilde einen Satz",
    exerciseHouse1Title: "Übung 25: Wo ist das?",
    exerciseHouse2Title: "Übung 26: Schreiben Sie, was in der Küche ist.",
    exerciseTransport1Title: "Übung 27: Wähle den Transport",
    exerciseTransport2Title: "Übung 28: Bilde einen Satz",
    exerciseVerbs1Title: "Übung 29: Wähle das Verb",
    exerciseVerbs2Title: "Übung 30: Bilde einen Satz",
    exercisePronouns1Title: "Übung 31: Ersetze das Wort durch ein Pronomen",
    exercisePronouns2Title: "Übung 32: Bilde einen Satz",
    playBtn: "Abspielen",
    checkBtn: "Überprüfen",
    enterWord: "Gib das Wort ein",
    enterSentence: "Gib den Satz ein",
    enterNumber: "Gib die Zahl auf Russisch ein",
    enterWeather: "Schreibe auf Russisch",
    enterTranslation: "Gib die Übersetzung ein",
    enterProfession: "Schreibe auf Russisch",
    enterTime: "Schreibe auf Russisch",
    progressTitle: "Dein Fortschritt",
    chatbotTitle: "Chatbot zum Üben",
    chatPlaceholder: "Schreibe eine Nachricht...",
    chatSend: "Senden",
    chatClear: "Löschen",
    footerAbout: "Über uns",
    footerAboutText: "Wir helfen Ausländern, Russisch mit interaktiven Lektionen und Übungen zu lernen.",
    footerContact: "Kontakt",
    footerPhone: "Telefon: +7 (123) 456-78-90",
    footerFollow: "Folge uns",
    loginTitle: "Anmeldung",
    registerTitle: "Registrierung",
    usernamePlaceholder: "Benutzername",
    passwordPlaceholder: "Passwort",
    correctAnswer: "✅ Richtig! +{points} Punkte",
    incorrectAnswer: "❌ Falsch.",
    incorrectAnswerTryAgain: "❌ Falsch. Versuche es nochmal!",
    achievementBeginnerTitle: "Anfänger",
    achievementBeginnerDesc: "Erziele 50 Punkte",
    achievementAlphabetTitle: "Alphabet-Experte",
    achievementAlphabetDesc: "Lerne alle Buchstaben",
    achievementGreetingsTitle: "Meister der Begrüßungen",
    achievementGreetingsDesc: "Lerne alle Begrüßungen",
    achievementGrammarTitle: "Grammatik-Guru",
    achievementGrammarDesc: "Lerne 3 Verben und 3 Pronomen",
    welcomeMessage: "Hallo, {username}!",
  }
};

let currentLang = localStorage.getItem("language") || "ru";
let points = parseInt(localStorage.getItem("points")) || 0;
let user = JSON.parse(localStorage.getItem("user")) || null;
let completedExercises = JSON.parse(localStorage.getItem("completedExercises")) || [];
let progress = completedExercises.length / document.querySelectorAll(".exercise-card").length * 100;

function updateUI() {
  document.querySelectorAll("[data-i18n]").forEach(element => {
    const key = element.getAttribute("data-i18n");
    element.textContent = translations[currentLang][key] || element.textContent;
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach(element => {
    const key = element.getAttribute("data-i18n-placeholder");
    element.placeholder = translations[currentLang][key] || element.placeholder;
  });

  document.querySelector("#points").textContent = points;
  document.querySelector(".progress-fill").style.width = `${progress}%`;
  document.querySelector(".progress-percent").textContent = `${Math.round(progress)}%`;

  if (user) {
    document.querySelector("#account-section").style.display = "none";
    document.querySelector("#user-info").style.display = "flex";
    const welcomeMessage = translations[currentLang].welcomeMessage.replace("{username}", user.username);
    document.querySelector("#welcome-msg").textContent = welcomeMessage;
  } else {
    document.querySelector("#account-section").style.display = "flex";
    document.querySelector("#user-info").style.display = "none";
  }
}

document.querySelectorAll(".lang-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    currentLang = btn.getAttribute("data-lang");
    localStorage.setItem("language", currentLang);
    updateUI();
    updateAchievements();
  });
});

document.querySelectorAll(".tab-button").forEach(button => {
  button.addEventListener("click", () => {
    document.querySelectorAll(".tab-button").forEach(btn => btn.classList.remove("active"));
    document.querySelectorAll(".tab-content").forEach(content => content.classList.remove("active"));

    button.classList.add("active");
    const tabId = button.getAttribute("data-tab");
    const tabContent = document.querySelector(`#${tabId}`);
    tabContent.classList.add("active");
  });
});

document.querySelectorAll(".letter, .number, .audio-btn, .play-btn").forEach(button => {
  button.addEventListener("click", () => {
    const audioSrc = button.getAttribute("data-audio");
    if (audioSrc) {
      const audio = new Audio(audioSrc);
      audio.play().catch(err => console.error("Ошибка воспроизведения аудио:", err));
    }
  });
});

document.querySelectorAll(".exercise-card").forEach(card => {
  const type = card.getAttribute("data-type");
  const correctAnswer = card.getAttribute("data-correct");

  if (type === "multiple-choice" || type === "audio") {
    card.querySelectorAll(".option-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        card.querySelectorAll(".option-btn").forEach(b => b.classList.remove("selected"));
        btn.classList.add("selected");

        const userAnswer = btn.getAttribute("data-value");
        const result = card.querySelector(".exercise-result");
        if (userAnswer === correctAnswer) {
          result.textContent = "✅ Верно! +5 баллов";
          result.classList.remove("error");
          points += 5;
          if (!completedExercises.includes(card.querySelector("h3").textContent)) {
            completedExercises.push(card.querySelector("h3").textContent);
          }
          card.classList.add("completed");
        } else {
          result.textContent = "❌ Неверно.";
          result.classList.add("error");
        }
        updateProgress();
      });
    });
  } else if (type === "input" || type === "translation" || type === "compose") {
    card.querySelector(".check-btn").addEventListener("click", () => {
      const userAnswer = card.querySelector(".answer-input").value.trim().toLowerCase();
      const result = card.querySelector(".exercise-result");
      if (userAnswer === correctAnswer) {
        result.textContent = "✅ Верно! +10 баллов";
        result.classList.remove("error");
        points += 10;
        if (!completedExercises.includes(card.querySelector("h3").textContent)) {
          completedExercises.push(card.querySelector("h3").textContent);
        }
        card.classList.add("completed");
      } else {
        result.textContent = "❌ Неверно. Попробуй снова!";
        result.classList.add("error");
      }
      updateProgress();
    });
  } else if (type === "matching") {
    let selectedLeft = null;
    let selectedRight = null;
    const matches = [];

    card.querySelectorAll(".left-column .item").forEach(item => {
      item.addEventListener("click", () => {
        card.querySelectorAll(".left-column .item").forEach(i => i.classList.remove("selected"));
        item.classList.add("selected");
        selectedLeft = item.getAttribute("data-match");
      });
    });

    card.querySelectorAll(".right-column .item").forEach(item => {
      item.addEventListener("click", () => {
        card.querySelectorAll(".right-column .item").forEach(i => i.classList.remove("selected"));
        item.classList.add("selected");
        selectedRight = item.getAttribute("data-match");

        if (selectedLeft && selectedRight) {
          matches.push(`${selectedLeft}:${selectedRight}`);
          card.querySelector(".match-display").textContent = matches.join(", ");
          selectedLeft = null;
          selectedRight = null;
          card.querySelectorAll(".item").forEach(i => i.classList.remove("selected"));
        }
      });
    });

    card.querySelector(".check-btn").addEventListener("click", () => {
      const userAnswer = matches.join(",");
      const result = card.querySelector(".exercise-result");
      if (userAnswer === correctAnswer) {
        result.textContent = "✅ Верно! +15 баллов";
        result.classList.remove("error");
        points += 15;
        if (!completedExercises.includes(card.querySelector("h3").textContent)) {
          completedExercises.push(card.querySelector("h3").textContent);
        }
        card.classList.add("completed");
      } else {
        result.textContent = "❌ Неверно. Попробуй снова!";
        result.classList.add("error");
      }
      updateProgress();
    });
  }
});

function updateProgress() {
  localStorage.setItem("points", points);
  localStorage.setItem("completedExercises", JSON.stringify(completedExercises));
  progress = completedExercises.length / document.querySelectorAll(".exercise-card").length * 100;
  updateUI();
}

const achievements = [
  { id: "beginner", icon: "🥇", titleKey: "achievementBeginnerTitle", descKey: "achievementBeginnerDesc", condition: () => points >= 50 },
  { id: "alphabet", icon: "🔤", titleKey: "achievementAlphabetTitle", descKey: "achievementAlphabetDesc", condition: () => completedExercises.includes("alphabet1") },
  { id: "greetings", icon: "🤝", titleKey: "achievementGreetingsTitle", descKey: "achievementGreetingsDesc", condition: () => completedExercises.includes("greetings1") },
  { id: "grammar", icon: "📚", titleKey: "achievementGrammarTitle", descKey: "achievementGrammarDesc", condition: () => completedExercises.includes("verbs1") && completedExercises.includes("pronouns1") },
];

function updateAchievements() {
  const container = document.querySelector(".achievements-container");
  container.innerHTML = "";
  achievements.forEach(achievement => {
    const unlocked = achievement.condition();
    const div = document.createElement("div");
    div.className = `achievement ${unlocked ? "unlocked" : "locked"}`;
    div.innerHTML = `
      <div class="achievement-icon">${achievement.icon}</div>
      <div class="achievement-info">
        <h4>${translations[currentLang][achievement.titleKey]}</h4>
        <p>${translations[currentLang][achievement.descKey]}</p>
      </div>
    `;
    container.appendChild(div);
  });
}

const chatbotResponses = {
  ru: {
    привет: "Привет! Чем могу помочь?",
    приветик: "Приветик! Как дела?",
    здарова: "Здарова! Что нового?",
    хай: "Хай! Чем займешься?",
    "добрый день": "Добрый день! Как могу помочь?",
    "здравствуйте": "Здравствуйте! Чем могу помочь сегодня?",
    "как дела": "Хорошо, спасибо! А у тебя?",
    "как поживаешь": "Отлично, а ты как поживаешь?",
    "как дела у тебя": "У меня все хорошо, а у тебя как дела?",
    "как ты": "Я в порядке, а ты как?",
    "что нового": "Ничего особенного, а у тебя что нового?",
    "дай упражнение": "Вот тебе упражнение: составь предложение из слов 'я', 'иду', 'в', 'парк'. Напиши его в чат.",
    "я иду в парк": "Отлично! Предложение правильное. Хочешь еще одно упражнение?",
    "давай еще упражнение": "Составь предложение с 'мы', 'читаем', 'книгу'. Напиши его.",
    "мы читаем книгу": "Молодец! Все верно. Еще одно?",
    "объясни падежи": "Русский язык имеет 6 падежей: именительный, родительный, дательный, винительный, творительный и предложный. Например, 'книга' в именительном — 'кто? что?', а в родительном — 'книги' (кого? чего?). Хочешь подробнее о каком-то падеже?",
    "что такое падежи": "Падежи — это формы слова, которые показывают его роль в предложении. Всего их 6: именительный, родительный, дательный, винительный, творительный, предложный. Хочешь пример?",
    "кто ты": "Я чат-бот, который помогает учить русский язык. Могу объяснить слова, дать упражнения или поболтать!",
    "ты кто": "Я бот, твой помощник по русскому языку. Чем могу помочь?",
    "помоги": "Конечно! Чем помочь? Объяснить слово, дать упражнение или что-то другое?",
    "нужна помощь": "Я здесь, чтобы помочь! Что нужно?",
    "можешь помочь": "Могу! С чем помочь?",
    "что такое собака": "Собака — это домашнее животное, друг человека. На русском — 'собака'. Хочешь узнать о других животных?",
    "что значит собака": "Собака — это слово, обозначающее животное, которое лает и любит людей. Еще вопросы?",
    "что такое кошка": "Кошка — это маленькое домашнее животное, которое мяукает. На русском — 'кошка'.",
    "что такое дом": "Дом — это место, где живут люди. На русском — 'дом'. Хочешь пример предложения?",
    "переведи слово": "Какое слово перевести? Напиши его!",
    "переведи собака": "Собака — это 'dog' на английском. Еще слова перевести?",
    "переведи кошка": "Кошка — это 'cat' на английском.",
    "как сказать спасибо": "Спасибо — это 'спасибо' на русском. Скажи 'спасибо' в чате!",
    "как сказать привет": "Привет — это 'привет' на русском. Попробуй поздороваться!",
    "давай поиграем": "Хорошо! Давай сыграем в 'Угадай слово'. Я загадаю слово, а ты угадаешь. Готов?",
    "поиграем": "Отлично! Играем в 'Угадай слово'. Слово начинается на 'к', это то, что читаешь. Что это?",
    "да": "Я загадал слово на 'к', это предмет, который ты читаешь. Угадай!",
    "книга": "Правильно! Это 'книга'. Еще загадку?",
    "нет": "Хорошо, чем еще помочь?",
    "расскажи анекдот": "Почему русские не играют в прятки? Потому что хорошего человека видно сразу! Еще один?",
    "скажи шутку": "Что делает собака, когда видит кота? Лает от зависти! Ха-ха, еще шутку?",
    "давай еще": "Как зовут человека, который всегда знает, где север? Компас! Шучу, это просто человек с хорошим чутьем.",
    "объясни глаголы": "Глаголы — это слова действия. Они меняются по лицам и числам: 'я говорю', 'ты говоришь', 'они говорят'. Хочешь попрактиковаться?",
    "что такое глагол": "Глагол — это слово, которое описывает действие, например 'бежать', 'читать'. Хочешь пример?",
    "да, хочу": "Спрягай глагол 'читать' в настоящем времени. Напиши все формы.",
    "я читаю, ты читаешь, он читает, мы читаем, вы читаете, они читают": "Супер! Все правильно. Еще упражнение?",
    "нет, давай что-то другое": "Хорошо, давай про прилагательные. Они описывают предметы, например 'большой дом'. Опиши свой день одним прилагательным.",
    "хороший": "Класс! Твой день был хорошим. Хочешь узнать, как сказать 'хороший' на других языках?",
    "интересный": "Отлично! Твой день был интересным. Узнать перевод?",
    "да": "Хороший: по-английски — 'good', по-испански — 'bueno', по-французски — 'bon'. Интересный: 'interesting', 'interesante', 'intéressant'.",
    "спасибо": "Пожалуйста! Чем еще помочь?",
    "большое спасибо": "Всегда пожалуйста! Что дальше?",
    "до свидания": "До свидания! Удачи в изучении русского!",
    "пока": "Пока! Приходи еще!",
    "увидимся": "До встречи! Удачи!",
    "что делать": "Могу предложить упражнение, игру или объяснить что-то. Что выбираешь?",
    "как дела сегодня": "Сегодня у меня все отлично, а у тебя?",
    "как погода": "Я бот, не вижу погоду, но могу спросить: какая у тебя погода сегодня?",
    "объясни прилагательные": "Прилагательные описывают предметы: 'красивый', 'большой'. Например, 'красивый цветок'. Попробуй придумать пример!",
    "давай спрягать": "Хорошо! Спрягай 'писать' в настоящем времени.",
    "что такое русский язык": "Русский язык — это язык, на котором говорят в России и не только. Он красивый и сложный. Хочешь узнать больше?",
    "расскажи о себе": "Я бот, люблю русский язык и помогаю людям его учить. А ты кто?",
    "как учить русский": "Учи слова, практикуй грамматику и говори со мной! С чего начнем?",
    "давай загадку": "Что это: ходит, мяукает и ловит мышей? Угадай!",
    "кошка": "Верно! Это кошка. Еще загадку?",
    "кто написал войну и мир": "Войну и мир написал Лев Толстой. Хочешь узнать о других писателях?",
    "что такое снег": "Снег — это замороженная вода, которая падает зимой. На русском — 'снег'.",
    "переведи снег": "Снег — это 'snow' на английском.",
    default: "Извини, не понял. Напиши 'привет', и начнем сначала!"
  },
  en: {
    hello: "Hello! How can I help you?",
    hi: "Hi! How are you?",
    hey: "Hey! What's up?",
    "good day": "Good day! How can I assist you?",
    "how are you": "I'm good, thanks! How about you?",
    "what's up": "Not much, what's up with you?",
    "give me an exercise": "Here's an exercise: form a sentence with 'I', 'go', 'to', 'park'. Write it in the chat.",
    "I go to the park": "Great! The sentence is correct. Want another exercise?",
    "explain cases": "Russian has 6 cases: nominative, genitive, dative, accusative, instrumental, and prepositional. For example, 'книга' in nominative is 'who? what?', and in genitive — 'книги' (whose? of what?). Want more details on a specific case?",
    "who are you": "I'm a chatbot that helps you learn Russian. I can explain words, give exercises, or just chat!",
    "help me": "Sure! How can I help? Explain a word, give an exercise, or something else?",
    "what is a dog": "A dog is a pet, man's best friend. In Russian, it's 'собака'. Want to learn about other animals?",
    "translate dog": "Dog is 'собака' in Russian. More words to translate?",
    "how to say thank you": "Thank you is 'спасибо' in Russian. Say 'спасибо' in the chat!",
    "let's play": "Alright! Let's play 'Guess the word'. I'll think of a word, and you guess it. Ready?",
    "tell a joke": "Why don't Russians play hide and seek? Because a good person is always visible! Another one?",
    "explain verbs": "Verbs are action words. They change based on person and number: 'I speak', 'you speak', 'they speak'. Want to practice?",
    "conjugate read": "Conjugate 'читать' (to read) in present tense. Write all forms.",
    "I read, you read, he reads, we read, you read, they read": "Perfect! All correct. Another exercise?",
    "goodbye": "Goodbye! Good luck with your Russian studies!",
    "bye": "Bye! Come back soon!",
    "what to do": "I can offer an exercise, a game, or explain something. What do you choose?",
    "how's the weather": "I'm a bot, I don't see the weather, but I can ask: what's the weather like for you today?",
    "explain adjectives": "Adjectives describe nouns: 'beautiful', 'big'. For example, 'beautiful flower'. Try to come up with an example!",
    "what is Russian language": "Russian is the language spoken in Russia and beyond. It's beautiful and complex. Want to know more?",
    "tell me about yourself": "I'm a bot, I love Russian and help people learn it. Who are you?",
    "how to learn Russian": "Learn words, practice grammar, and talk to me! Where do we start?",
    "give me a riddle": "What walks, meows, and catches mice? Guess!",
    "who wrote War and Peace": "War and Peace was written by Leo Tolstoy. Want to know about other writers?",
    "what is snow": "Snow is frozen water that falls in winter. In Russian, it's 'снег'.",
    "translate snow": "Snow is 'снег' in Russian.",
    default: "Sorry, I didn't understand. Write 'hello', and let's start over!"
  },
  es: {
    hola: "¡Hola! ¿En qué puedo ayudarte?",
    "buenos días": "¡Buenos días! ¿Cómo puedo ayudarte?",
    "cómo estás": "¡Bien, gracias! ¿Y tú?",
    "qué tal": "No mucho, ¿y tú?",
    "dame un ejercicio": "Aquí tienes un ejercicio: forma una oración con 'yo', 'voy', 'al', 'parque'. Escríbela en el chat.",
    "yo voy al parque": "¡Excelente! La oración es correcta. ¿Quieres otro ejercicio?",
    "explica los casos": "El ruso tiene 6 casos: nominativo, genitivo, dativo, acusativo, instrumental y preposicional. Por ejemplo, 'книга' en nominativo es '¿quién? ¿qué?', y en genitivo — 'книги' (¿de quién? ¿de qué?). ¿Quieres más detalles sobre un caso específico?",
    "quién eres": "Soy un chatbot que te ayuda a aprender ruso. ¡Puedo explicar palabras, dar ejercicios o simplemente charlar!",
    "ayúdame": "¡Claro! ¿Cómo puedo ayudarte? ¿Explicar una palabra, dar un ejercicio o algo más?",
    "qué es un perro": "Un perro es una mascota, el mejor amigo del hombre. En ruso, es 'собака'. ¿Quieres aprender sobre otros animales?",
    "traduce perro": "Perro es 'собака' en ruso. ¿Más palabras para traducir?",
    "cómo decir gracias": "Gracias es 'спасибо' en ruso. ¡Di 'спасибо' en el chat!",
    "juguemos": "¡Bien! Juguemos a 'Adivina la palabra'. Yo pensaré en una palabra y tú la adivinarás. ¿Listo?",
    "cuenta un chiste": "¿Por qué los rusos no juegan al escondite? ¡Porque una buena persona siempre es visible! ¿Otro?",
    "explica los verbos": "Los verbos son palabras de acción. Cambian según la persona y el número: 'yo hablo', 'tú hablas', 'ellos hablan'. ¿Quieres practicar?",
    "conjuga leer": "Conjuga 'читать' (leer) en presente. Escribe todas las formas.",
    "yo leo, tú lees, él lee, nosotros leemos, vosotros leéis, ellos leen": "¡Perfecto! Todo correcto. ¿Otro ejercicio?",
    "adiós": "¡Adiós! ¡Buena suerte con tus estudios de ruso!",
    "hasta luego": "¡Hasta luego! ¡Vuelve pronto!",
    "qué hacer": "Puedo ofrecer un ejercicio, un juego o explicar algo. ¿Qué eliges?",
    "cómo está el clima": "Soy un bot, no veo el clima, pero puedo preguntar: ¿cómo está el clima para ti hoy?",
    "explica los adjetivos": "Los adjetivos describen sustantivos: 'hermoso', 'grande'. Por ejemplo, 'flor hermosa'. ¡Intenta crear un ejemplo!",
    "qué es el idioma ruso": "El ruso es el idioma hablado en Rusia y más allá. Es hermoso y complejo. ¿Quieres saber más?",
    "cuéntame sobre ti": "Soy un bot, amo el ruso y ayudo a la gente a aprenderlo. ¿Quién eres tú?",
    "cómo aprender ruso": "Aprende palabras, practica gramática y habla conmigo. ¿Por dónde empezamos?",
    "dame un acertijo": "¿Qué camina, maúlla y atrapa ratones? ¡Adivina!",
    "quién escribió Guerra y Paz": "Guerra y Paz fue escrita por León Tolstói. ¿Quieres saber sobre otros escritores?",
    "qué es la nieve": "La nieve es agua congelada que cae en invierno. En ruso, es 'снег'.",
    "traduce nieve": "Nieve es 'снег' en ruso.",
    default: "Lo siento, no entendí. Escribe 'hola' y empecemos de nuevo."
  },
  fr: {
    bonjour: "Bonjour! Comment puis-je t'aider?",
    salut: "Salut! Comment vas-tu?",
    "comment ça va": "Ça va bien, merci! Et toi?",
    "quoi de neuf": "Pas grand-chose, et toi?",
    "donne-moi un exercice": "Voici un exercice: forme une phrase avec 'je', 'vais', 'au', 'parc'. Écris-la dans le chat.",
    "je vais au parc": "Super! La phrase est correcte. Veux-tu un autre exercice?",
    "explique les cas": "Le russe a 6 cas: nominatif, génitif, datif, accusatif, instrumental et prépositionnel. Par exemple, 'книга' en nominatif est 'qui? quoi?', et en génitif — 'книги' (de qui? de quoi?). Veux-tu plus de détails sur un cas spécifique?",
    "qui es-tu": "Je suis un chatbot qui t'aide à apprendre le russe. Je peux expliquer des mots, donner des exercices ou simplement discuter!",
    "aide-moi": "Bien sûr! Comment puis-je t'aider? Expliquer un mot, donner un exercice ou autre chose?",
    "qu'est-ce qu'un chien": "Un chien est un animal de compagnie, le meilleur ami de l'homme. En russe, c'est 'собака'. Veux-tu en savoir plus sur d'autres animaux?",
    "traduis chien": "Chien est 'собака' en russe. Plus de mots à traduire?",
    "comment dire merci": "Merci est 'спасибо' en russe. Dis 'спасибо' dans le chat!",
    "jouons": "D'accord! Jouons à 'Devine le mot'. Je vais penser à un mot et tu vas le deviner. Prêt?",
    "raconte une blague": "Pourquoi les Russes ne jouent-ils pas à cache-cache? Parce qu'une bonne personne est toujours visible! Une autre?",
    "explique les verbes": "Les verbes sont des mots d'action. Ils changent selon la personne et le nombre: 'je parle', 'tu parles', 'ils parlent'. Veux-tu pratiquer?",
    "conjuge lire": "Conjugue 'читать' (lire) au présent. Écris toutes les formes.",
    "je lis, tu lis, il lit, nous lisons, vous lisez, ils lisent": "Parfait! Tout est correct. Un autre exercice?",
    "au revoir": "Au revoir! Bonne chance avec tes études de russe!",
    "à bientôt": "À bientôt! Reviens vite!",
    "que faire": "Je peux proposer un exercice, un jeu ou expliquer quelque chose. Que choisis-tu?",
    "comment est la météo": "Je suis un bot, je ne vois pas la météo, mais je peux demander: quel temps fait-il chez toi aujourd'hui?",
    "explique les adjetifs": "Les adjectifs décrivent les noms: 'beau', 'grand'. Par exemple, 'belle fleur'. Essaie de créer un exemple!",
    "qu'est-ce que la langue russe": "Le russe est la langue parlée en Russie et au-delà. Elle est belle et complexe. Veux-tu en savoir plus?",
    "parle-moi de toi": "Je suis un bot, j'aime le russe et j'aide les gens à l'apprendre. Qui es-tu?",
    "comment apprendre le russe": "Apprends des mots, pratique la grammaire et parle avec moi! Par où commençons-nous?",
    "donne-moi une devinette": "Qu'est-ce qui marche, miaule et attrape des souris? Devine!",
    "qui a écrit Guerre et Paix": "Guerre et Paix a été écrit par Léon Tolstoï. Veux-tu en savoir plus sur d'autres écrivains?",
    "qu'est-ce que la neige": "La neige est de l'eau gelée qui tombe en hiver. En russe, c'est 'снег'.",
    "traduis neige": "Neige est 'снег' en russe.",
    default: "Désolé, je n'ai pas compris. Écris 'bonjour' et recommençons."
  },
  de: {
    hallo: "Hallo! Wie kann ich dir helfen?",
    "guten tag": "Guten Tag! Wie kann ich Ihnen helfen?",
    "wie geht's": "Mir geht's gut, danke! Und dir?",
    "was gibt's neues": "Nicht viel, und bei dir?",
    "gib mir eine übung": "Hier ist eine Übung: Bilde einen Satz mit 'ich', 'gehe', 'zum', 'Park'. Schreibe ihn in den Chat.",
    "ich gehe zum park": "Toll! Der Satz ist korrekt. Möchtest du eine weitere Übung?",
    "erkläre die fälle": "Russisch hat 6 Fälle: Nominativ, Genitiv, Dativ, Akkusativ, Instrumental und Präpositional. Zum Beispiel, 'книга' im Nominativ ist 'wer? was?', und im Genitiv — 'книги' (wessen? wovon?). Möchtest du mehr über einen bestimmten Fall erfahren?",
    "wer bist du": "Ich bin ein Chatbot, der dir beim Russischlernen hilft. Ich kann Wörter erklären, Übungen geben oder einfach chatten!",
    "hilf mir": "Klar! Wie kann ich helfen? Ein Wort erklären, eine Übung geben oder etwas anderes?",
    "was ist ein hund": "Ein Hund ist ein Haustier, der beste Freund des Menschen. Auf Russisch ist es 'собака'. Möchtest du mehr über andere Tiere erfahren?",
    "übersetze hund": "Hund ist 'собака' auf Russisch. Noch mehr Wörter zum Übersetzen?",
    "wie sagt man danke": "Danke ist 'спасибо' auf Russisch. Sag 'спасибо' im Chat!",
    "lass uns spielen": "Okay! Lass uns 'Errate das Wort' spielen. Ich denke an ein Wort, und du rätst es. Bereit?",
    "erzähl einen witz": "Warum spielen Russen nicht Verstecken? Weil ein guter Mensch immer sichtbar ist! Noch einen?",
    "erkläre verben": "Verben sind Aktionswörter. Sie ändern sich je nach Person und Zahl: 'ich spreche', 'du sprichst', 'sie sprechen'. Möchtest du üben?",
    "konjugiere lesen": "Konjugiere 'читать' (lesen) in der Gegenwart. Schreibe alle Formen.",
    "ich lese, du liest, er liest, wir lesen, ihr lest, sie lesen": "Perfekt! Alles richtig. Noch eine Übung?",
    "auf wiedersehen": "Auf Wiedersehen! Viel Glück beim Russischlernen!",
    "tschüss": "Tschüss! Komm bald wieder!",
    "was tun": "Ich kann eine Übung, ein Spiel oder eine Erklärung anbieten. Was wählst du?",
    "wie ist das wetter": "Ich bin ein Bot, ich sehe das Wetter nicht, aber ich kann fragen: Wie ist das Wetter bei dir heute?",
    "erkläre adjektive": "Adjektive beschreiben Substantive: 'schön', 'groß'. Zum Beispiel, 'schöne Blume'. Versuche, ein Beispiel zu erstellen!",
    "was ist die russische sprache": "Russisch ist die Sprache, die in Russland und darüber hinaus gesprochen wird. Sie ist schön und komplex. Möchtest du mehr wissen?",
    "erzähl mir von dir": "Ich bin ein Bot, ich liebe Russisch und helfe Menschen, es zu lernen. Wer bist du?",
    "wie lernt man russisch": "Lerne Wörter, übe Grammatik und sprich mit mir! Wo fangen wir an?",
    "gib mir ein rätsel": "Was läuft, miaut und fängt Mäuse? Rate mal!",
    "wer hat krieg und frieden geschrieben": "Krieg und Frieden wurde von Leo Tolstoi geschrieben. Möchtest du mehr über andere Schriftsteller erfahren?",
    "was ist schnee": "Schnee ist gefrorenes Wasser, das im Winter fällt. Auf Russisch ist es 'снег'.",
    "übersetze schnee": "Schnee ist 'снег' auf Russisch.",
    default: "Entschuldigung, ich habe das nicht verstanden. Schreibe 'hallo' und lass uns von vorne beginnen."
  }
};

function addChatMessage(message, isUser) {
  const chatMessages = document.querySelector("#chat-messages");
  const messageDiv = document.createElement("div");
  messageDiv.className = `chat-message ${isUser ? "user-message" : "bot-message"}`;
  messageDiv.textContent = message;
  chatMessages.appendChild(messageDiv);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

document.querySelector("#chat-send").addEventListener("click", () => {
  const input = document.querySelector("#chat-input");
  const message = input.value.trim().toLowerCase();
  if (message) {
    addChatMessage(message, true);
    const response = chatbotResponses[currentLang][message] || chatbotResponses[currentLang].default;
    setTimeout(() => addChatMessage(response, false), 500);
    input.value = "";
  }
});

document.querySelector("#chat-input").addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    document.querySelector("#chat-send").click();
  }
});

document.querySelector("#chat-clear").addEventListener("click", () => {
  document.querySelector("#chat-messages").innerHTML = "";
});

document.querySelector("#login-btn").addEventListener("click", () => {
  document.querySelector("#login-modal").style.display = "flex";
});

document.querySelector("#register-btn").addEventListener("click", () => {
  document.querySelector("#register-modal").style.display = "flex";
});

document.querySelectorAll(".close-modal").forEach(btn => {
  btn.addEventListener("click", () => {
    document.querySelector(`#${btn.getAttribute("data-modal")}`).style.display = "none";
  });
});

document.querySelector("#login-submit").addEventListener("click", () => {
  const username = document.querySelector("#login-username").value.trim();
  const password = document.querySelector("#login-password").value.trim();
  if (username.length < 3 || password.length < 6) {
    alert(translations[currentLang].validationError || "Имя пользователя должно быть не менее 3 символов, а пароль — не менее 6 символов.");
    return;
  }
  const storedUser = JSON.parse(localStorage.getItem(`user_${username}`));
  if (storedUser && storedUser.password === password) {
    user = { username };
    localStorage.setItem("user", JSON.stringify(user));
    document.querySelector("#login-modal").style.display = "none";
    updateUI();
  } else {
    alert(translations[currentLang].loginError || "Неверное имя пользователя или пароль.");
  }
});

document.querySelector("#register-submit").addEventListener("click", () => {
  const username = document.querySelector("#register-username").value.trim();
  const password = document.querySelector("#register-password").value.trim();
  if (username.length < 3 || password.length < 6) {
    alert(translations[currentLang].validationError || "Имя пользователя должно быть не менее 3 символов, а пароль — не менее 6 символов.");
    return;
  }
  if (localStorage.getItem(`user_${username}`)) {
    alert(translations[currentLang].userExistsError || "Пользователь с таким именем уже существует.");
    return;
  }
  localStorage.setItem(`user_${username}`, JSON.stringify({ username, password }));
  user = { username };
  localStorage.setItem("user", JSON.stringify(user));
  document.querySelector("#register-modal").style.display = "none";
  updateUI();
});

document.querySelector("#logout-btn").addEventListener("click", () => {
  user = null;
  localStorage.removeItem("user");
  updateUI();
});

document.addEventListener("DOMContentLoaded", () => {
  updateUI();
  updateAchievements();
});

document.querySelectorAll(".letter, .number, .audio-btn, .play-btn").forEach(button => {
  button.addEventListener("click", () => {
    const audioSrc = button.getAttribute("data-audio");
    if (audioSrc) {
      const audio = new Audio(audioSrc);
      audio.play().catch(err => {
        console.error(`Ошибка воспроизведения аудио (${audioSrc}):`, err);
        alert("Не удалось воспроизвести аудио. Проверьте наличие файла: " + audioSrc);
      });
    } else {
      console.warn("Аудиофайл не указан для элемента:", button);
    }
  });
});